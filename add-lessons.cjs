// Script to add listener training lessons to Firestore
// Run with: node add-lessons.js

const admin = require('firebase-admin');
const serviceAccount = require('./serviceAccountKey.json');

admin.initializeApp({
  credential: admin.credential.cert(serviceAccount)
});

const db = admin.firestore();

const lessons = [
  {
    order: 1,
    title: 'การรับฟังอย่างตั้งใจ (Active Listening)',
    duration: 10,
    isActive: true,
    content: [
      'การรับฟังอย่างตั้งใจ คือการให้ความสนใจกับสิ่งที่อีกฝ่ายกำลังพูดอย่างเต็มที่ ไม่ใช่แค่การได้ยินเสียง แต่เป็นการเข้าใจความหมาย อารมณ์ และความรู้สึกที่แฝงอยู่ในคำพูด',
      'การรับฟังที่ดีต้องใช้ทั้งหู ตา และใจ คุณต้องมองที่สายตาของผู้พูด สังเกตภาษากาย และตั้งใจฟังทุกคำพูดโดยไม่ตัดสิน',
      'เมื่อเราตั้งใจฟังจริงๆ อีกฝ่ายจะรู้สึกได้ว่าเราให้ความสำคัญ และนั่นทำให้พวกเขารู้สึกปลอดภัยที่จะเปิดใจมากขึ้น'
    ],
    keyPoints: [
      'มองตาผู้พูด แสดงให้เห็นว่าคุณให้ความสำคัญ',
      'อย่าขัดจังหวะหรือรีบตัดสิน',
      'สังเกตภาษากายและน้ำเสียง',
      'ถามคำถามเพื่อทำความเข้าใจให้ชัดเจน',
      'สรุปสิ่งที่ได้ยินเพื่อยืนยันความเข้าใจ'
    ],
    createdAt: admin.firestore.FieldValue.serverTimestamp()
  },
  {
    order: 2,
    title: 'การแสดงความเห็นอกเห็นใจ (Empathy)',
    duration: 12,
    isActive: true,
    content: [
      'ความเห็นอกเห็นใจ คือการสามารถเข้าใจและรู้สึกตามความรู้สึกของอีกฝ่าย ไม่ใช่แค่การรู้ว่าเขารู้สึกอย่างไร แต่คือการสัมผัสถึงความรู้สึกนั้นด้วยตัวเอง',
      'การแสดง empathy ไม่ได้หมายความว่าคุณต้องเห็นด้วยกับทุกสิ่ง แต่หมายความว่าคุณเข้าใจว่าทำไมเขาถึงรู้สึกแบบนั้น',
      'เมื่อผู้อื่นแชร์ปัญหา อย่ารีบให้คำแนะนำ บางครั้งพวกเขาแค่ต้องการคนรับฟังและเข้าใจความรู้สึก'
    ],
    keyPoints: [
      'ลองนึกตัวเองเป็นอีกฝ่าย',
      'พูดว่า "ฉันเข้าใจว่ามันยากนะ" แทนที่จะพูดว่า "ไม่เป็นไรหรอก"',
      'ยอมรับความรู้สึกของเขาว่าเป็นเรื่องจริงและสำคัญ',
      'อย่าเปรียบเทียบกับประสบการณ์ของตัวเอง',
      'ใช้คำพูดที่อ่อนโยนและให้กำลังใจ'
    ],
    createdAt: admin.firestore.FieldValue.serverTimestamp()
  },
  {
    order: 3,
    title: 'การถามคำถามที่เปิดกว้าง',
    duration: 8,
    isActive: true,
    content: [
      'คำถามที่เปิดกว้าง คือคำถามที่ไม่สามารถตอบด้วย "ใช่" หรือ "ไม่ใช่" แต่ต้องอธิบาย ทำให้อีกฝ่ายได้คิดและแสดงความรู้สึกออกมามากขึ้น',
      'แทนที่จะถามว่า "เธอโอเคไหม?" ลองถามว่า "เธอรู้สึกยังไงบ้าง?" จะทำให้ได้คำตอบที่มีรายละเอียดมากกว่า',
      'คำถามที่ดีช่วยให้อีกฝ่ายสำรวจความรู้สึกของตัวเอง และบางครั้งก็ช่วยให้พวกเขาเข้าใจตัวเองมากขึ้น'
    ],
    keyPoints: [
      'เริ่มคำถามด้วย "อะไร" "อย่างไร" "ทำไม"',
      'หลีกเลี่ยงคำถามที่นำไปสู่คำตอบ "ใช่/ไม่ใช่"',
      'ถามทีละคำถาม อย่าถามซ้อนกัน',
      'ให้เวลาอีกฝ่ายคิดก่อนตอบ',
      'แสดงความสนใจในคำตอบที่ได้รับ'
    ],
    createdAt: admin.firestore.FieldValue.serverTimestamp()
  },
  {
    order: 4,
    title: 'การไม่ตัดสินและการยอมรับ',
    duration: 15,
    isActive: true,
    content: [
      'การไม่ตัดสิน หมายถึงการรับฟังโดยไม่ประเมินหรือวิพากษ์วิจารณ์ความรู้สึกหรือประสบการณ์ของอีกฝ่าย แม้ว่าคุณจะไม่เห็นด้วยก็ตาม',
      'เมื่อผู้คนรู้สึกว่าถูกตัดสิน พวกเขาจะปิดใจและไม่กล้าแชร์อะไรต่อ การสร้างพื้นที่ปลอดภัยเริ่มจากการไม่ตัดสิน',
      'การยอมรับ ไม่ได้หมายความว่าคุณเห็นด้วย แต่หมายความว่าคุณเคารพในความแตกต่างและยอมรับว่าทุกคนมีสิทธิ์รู้สึกในแบบของตัวเอง'
    ],
    keyPoints: [
      'หลีกเลี่ยงการพูดว่า "เธอไม่ควรรู้สึกแบบนั้น"',
      'อย่ารีบให้คำวิจารณ์หรือคำแนะนำทันที',
      'ยอมรับว่าทุกความรู้สึกมีเหตุผล',
      'ใช้ภาษาที่เป็นกลางและไม่มีอคติ',
      'แสดงให้เห็นว่าคุณเคารพในมุมมองของเขา'
    ],
    createdAt: admin.firestore.FieldValue.serverTimestamp()
  },
  {
    order: 5,
    title: 'การรู้จักขอบเขตของตัวเอง',
    duration: 10,
    isActive: true,
    content: [
      'การเป็นนักรับฟังที่ดี ไม่ได้หมายความว่าคุณต้องรับปัญหาของคนอื่นมาเป็นของตัวเองทั้งหมด การรู้จักขอบเขตเป็นสิ่งสำคัญ',
      'คุณไม่จำเป็นต้องแก้ปัญหาให้ทุกคน บางครั้งการรับฟังและอยู่เคียงข้างก็เพียงพอแล้ว อย่าให้ภาระหนักจนเกินไปจนทำร้ายสุขภาพจิตของตัวเอง',
      'เมื่อรู้สึกว่าเหนื่อยหรือไม่สามารถรับฟังได้อีก ให้กล้าบอกและขอเวลาพัก นั่นไม่ได้หมายความว่าคุณเป็นนักรับฟังที่ไม่ดี แต่หมายความว่าคุณรู้จักดูแลตัวเอง'
    ],
    keyPoints: [
      'รู้จักว่าเมื่อไหร่ควรพัก',
      'อย่าคิดว่าต้องแก้ปัญหาให้ทุกคน',
      'แนะนำให้ปรึกษาผู้เชี่ยวชาญเมื่อจำเป็น',
      'ดูแลสุขภาพจิตของตัวเองก่อน',
      'บอกอีกฝ่ายอย่างตรงไปตรงมาถ้าไม่พร้อม'
    ],
    createdAt: admin.firestore.FieldValue.serverTimestamp()
  }
];

async function addLessons() {
  try {
    console.log('Adding lessons to Firestore...');

    for (const lesson of lessons) {
      const docRef = await db.collection('listenerLessons').add(lesson);
      console.log(`✓ Added lesson ${lesson.order}: ${lesson.title} (ID: ${docRef.id})`);
    }

    console.log('\n✓ All lessons added successfully!');
    process.exit(0);
  } catch (error) {
    console.error('Error adding lessons:', error);
    process.exit(1);
  }
}

addLessons();
